<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>设计稿</title>
    <link rel="stylesheet" href="./introduction.css">
</head>
<body>
    <div class="home">
        <div>
            <div class="row1 row">
                <div class="item" index="0">
                    <img src="./assets/item1.png" alt="">
                    <p class="item-title">发展规则</p>
                </div>
            </div>
            <div class="row2">
                <div class="item" index="1">
                    <img src="./assets/item2.png" alt="">
                    <p class="item-title">走进足协</p>
                </div>
                <div class="item" index="8">
                    <img src="./assets/item3.png" alt="">
                    <p class="item-title">球场建设</p>
                </div>
                <div class="item" index="3">
                    <img src="./assets/item4.png" alt="">
                    <p class="item-title">竞赛体系</p>
                </div>
            </div>
            <div class="row3">
                <div class="item" index="4">
                    <img src="./assets/item5.png" alt="">
                    <p class="item-title">孩子的收获</p>                    
                </div>
                <div class="item" index="5">
                    <img src="./assets/item6.png" alt="">
                    <p class="item-title">大人的收获</p>                    
                </div>
            </div>
            <div class="row2">
                <div class="item" index="9">
                    <img src="./assets/item7.png" alt="">
                    <p class="item-title">投入机制</p>
                </div>
                <div class="item" index="6">
                    <img src="./assets/item8.png" alt="">
                    <p class="item-title">专业人才</p>
                </div>
                <div class="item" index="10">
                    <img src="./assets/item9.png" alt="">
                    <p class="item-title">球迷参与</p>
                </div>
            </div>
            <div class="row4">
                <div class="item" index="7">
                    <img src="./assets/item10.png" alt="">
                    <p class="item-title">全运会队伍建设</p>
                </div>
                <div class="item" index="2">
                    <img src="./assets/item11.png" alt="">
                    <p class="item-title">俱乐部建设&运营</p>
                </div>
            </div>
        </div>
        <div class="ball"></div>
        <img class="home-bg" src="./assets/home_bg.png" alt="">
    </div>
    <div class="next">
        <img class="home-bg" src="./assets/in_bg.png" alt="">        
        <p class="in-h1"></p>
        <p class="in-h2"></p>
        <div class="content">
            <p class="pre-btn">《 上一条</p>
            <p class="next-btn">下一条 》</p>
            <div class="content-main content-main1">
                <div class="step">
                    <p class="step-title">第一步:</p>
                    <p>近期目标(2020年)：1610块足球场，平均每万人0.7块；230块，中小学20万，全市100万</p>
                </div>
                <div class="step">
                    <p class="step-title">第二步:</p>
                    <p>中期目标(2035年)：平均每万人1块足球场，拥有2支具备夺冠实力的职业俱乐部</p>
                </div>
                <div class="step">
                    <p class="step-title">第三步:</p>
                    <p>远期目标(2050年)：足球运动一流城市；申办顶级赛事</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con1.png" alt="">
            </div>
            <div class="content-main content-main2">
                <div class="step">
                    <p>2017.11.16市足协第七届第一次会员大会举行</p>
                </div>
                <div class="step">
                    <p><b>脱钩：</b>市足协与市体育局，政社分开，权责明确，依法自治</p>
                </div>
                <div class="step">
                    <p><b>自主权：</b>内部机构设置、工作计划制定、财务和薪酬管理、人事管理、国际专业交流等</p>
                </div>
                <div class="step">
                    <p><b>领导机构：</b>市体育行政部门代表、各区及行业足球协会代表、职业联赛组织代表、知名足球专业人士、社会人士和专家代表 </p>
                </div>
                <div class="step">
                    <p><b>双重领导：</b>市足协党支部隶属市体育局直属机关党委领导，接受市行业协会商会综合党委的指导</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con2.png" alt="">                
            </div>
            <div class="content-main content-main3">
                <div class="part">
                    <p>增强主体意识</p>
                    <p>鼓励多元投资</p>
                    <p>实行严格准入</p>
                    <p>加强梯队建设</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con3.png" alt="">                
            </div>
            <div class="content-main content-main4">
                <div class="step">
                    <p class="step-title">完善竞赛体系与竞赛奖励设计：</p>
                    <p>赛制稳定、等级分明、衔接有序、遍及城乡的竞赛格局</p>
                </div>
                <div class="step">
                    <p class="step-title">提升赛事运营能力：</p>
                    <p>赛事产品开发、无形资产管理</p>
                </div>
                <div class="step">
                    <p class="step-title">维护竞赛秩序：</p>
                    <p>加强管理，倡导文明观赛</p>
                </div>
                <div class="step">
                    <p class="step-title">更多国际赛事交流：</p>
                    <p>“首都杯”，“长城杯”等</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con4.png" alt="">                
            </div>
            <div class="content-main content-main5">
                <div class="step">
                    <p>· 体育教育深度融合</p>
                </div>
                <div class="step">
                    <p>· 班级、校级、区级、市级四级竞赛模式  </p>
                </div>
                <div class="step">
                    <p>· 小学、初中、高中、大学的四级联赛体系</p>
                </div>
                <div class="step">
                    <p>· 校内有比赛、校际有联赛、市级有选拔</p>
                </div>
                <div class="step">
                    <p>· 足球纳入体育教学内容，纳入素质考评</p>
                </div>
                <div class="step">
                    <p>· 校园中会有更多的专业足球裁判员和教练员</p>
                </div>
                <div class="step">
                    <p>· 更完善的青训体系</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con5.png" alt="">                
            </div>
            <div class="content-main content-main6">
                <div class="step">
                    <p class="step-title">更活跃的队伍：</p>
                    <p>鼓励党政机关、企事业单位、部队、城乡社区因地制宜组建足球队和非职业足球联盟</p>
                </div>
                <div class="step">
                    <p class="step-title">更专业的赛事：</p>
                    <p>百队杯”“社区杯”和京津冀业余足球联赛等各级各类品牌赛事，为市民参与足球运动提供平台</p>
                </div>
                <div class="step">
                    <p class="step-title">更规范的组织管理：</p>
                    <p>社会足球人才的认证、注册等管理机制；社区足球指导服务体系，鼓励专业教练员、裁判员以志愿服务形式指导社会足球建设</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con6.png" alt="">                
            </div>
            <div class="content-main content-main7">
                <div class="step">
                    <p><b>运动员：</b>多渠道、多形式的人才发现和培养机制，形成成长通路，退役转岗再就业也不是问题！</p>
                </div>
                <div class="step">
                    <p><b>足球技术人才：</b>包括教练员、裁判员、讲师、队医、营养师、理疗师等技术人才（加强培养和继续教育），力争到2020年本市注册各级各类教练员不少于4000人、裁判员不少于3000人，各级各类讲师达到100人，其中教练员讲师不少于30人、裁判员讲师不少于40人</p>
                </div>
                <div class="step">
                    <p><b>足球管理人才：</b>包括经营管理、营销推广、中介服务、文化创意等专业人才队伍</p>
                </div>
                <div class="step">
                    <p><b>设立足球学院和学校，建立北京足球智库</b></p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con7.png" alt="">                
            </div>
            <div class="content-main content-main8">
                <div class="part">
                    <p>完善队员选拔机制</p>
                    <p>提高服务保障能力</p>
                    <p>加强教练团队建设</p>
                    <p>统筹全运队与相关单位的需求</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con8.png" alt="">                
            </div>
            <div class="content-main content-main9">
                <div class="step">
                    <p class="step-title">足球场地数量将增加：</p>
                    <p>利用现有资源盘活，因地制宜利用学校、公园、闲置地等建设非标准足球场；<br>力争2030年年底前，本市新建或改建1至3座可容纳5万人左右的专业型足球场；<br>学校足球场在课外时间优惠或免费向社会开放，建立共享机制；</p>
                </div>
                <div class="step">
                    <p class="step-title">场地设施运营更科学：</p>
                    <p>招标选择专业的社会组织或企业负责管理运营公共足球场；<br> 市足协组织制定科学、实用的足球设施设备行业标准。</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con9.png" alt="">                
            </div>
            <div class="content-main content-main10">
                <div class="step">
                    <p class="step-title">政府：</p>
                    <p>加大财政投入</p>
                </div>
                <div class="step">
                    <p class="step-title">社会力量：</p>
                    <p>鼓励社会资本进入足球领域，优化投资结构</p>
                </div>
                <div class="step">
                    <p class="step-title">足球产业：</p>
                    <p>引入移动互联网、新媒体、大数据、云计算、虚拟现实技术等新技术和新业态，大力开拓赛事运营、场馆运营、足球培训、足球经纪、足球保险、足球彩票等相关服务市场</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con10.png" alt="">                
            </div>
            <div class="content-main content-main11">
                <div class="step">
                    <p class="step-title">政府：</p>
                    <p>把足球工作纳入议事日程，充分发挥联席会议制度作用，加强足球行业作风建设；</p>
                </div>
                <div class="step">
                    <p class="step-title">球迷：</p>
                    <p>市足协迷专项委员会和球迷执委为你发声；<br>打造主场文化，培育首都足球文化；</p>
                </div>
                <img class="bonttm-pic" src="./assets/in-con11.png" alt="">                
            </div>
            <p class="back-home">《 首页</p>
        </div>
    </div>
    <input type="text" id="curr-index" value="0">
</body>
<script src="./assets/js/jquery-3.1.1.min.js"></script>
<script>
    ; (function (win, lib) {
            var doc = win.document;
            var docEl = doc.documentElement;
            var metaEl = doc.querySelector('meta[name="viewport"]');
            var flexibleEl = doc.querySelector('meta[name="flexible"]');
            var dpr = 0;
            var scale = 0;
            var tid;
            var flexible = lib.flexible || (lib.flexible = {});

            if (metaEl) {
                console.warn('将根据已有的meta标签来设置缩放比例');
                var match = metaEl.getAttribute('content').match(/initial-scale=([\d.]+)/);
                if (match) {
                    scale = parseFloat(match[1]);
                    dpr = parseInt(1 / scale);
                }
            } else if (flexibleEl) {
                var content = flexibleEl.getAttribute('content');
                if (content) {
                    var initialDpr = content.match(/initial-dpr=([\d.]+)/);
                    var maximumDpr = content.match(/maximum-dpr=([\d.]+)/);
                    if (initialDpr) {
                        dpr = parseFloat(initialDpr[1]);
                        scale = parseFloat((1 / dpr).toFixed(2));
                    }
                    if (maximumDpr) {
                        dpr = parseFloat(maximumDpr[1]);
                        scale = parseFloat((1 / dpr).toFixed(2));
                    }
                }
            }

            if (!dpr && !scale) {
                var isIPhone = win.navigator.appVersion.match(/iphone/gi);
                var devicePixelRatio = win.devicePixelRatio;
                if (isIPhone) {
                    // iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案
                    if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {
                        dpr = 3;
                    } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) {
                        dpr = 2;
                    } else {
                        dpr = 1;
                    }
                } else {
                    // 其他设备下，仍旧使用1倍的方案
                    dpr = 1;
                }
                scale = 1 / dpr;
            }

            docEl.setAttribute('data-dpr', dpr);
            if (!metaEl) {
                metaEl = doc.createElement('meta');
                metaEl.setAttribute('name', 'viewport');
                metaEl.setAttribute('content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');
                if (docEl.firstElementChild) {
                    docEl.firstElementChild.appendChild(metaEl);
                } else {
                    var wrap = doc.createElement('div');
                    wrap.appendChild(metaEl);
                    doc.write(wrap.innerHTML);
                }
            }

            function refreshRem() {
                var width = docEl.getBoundingClientRect().width;
                if (width / dpr > 540) {
                    width = 540 * dpr;
                }
                var rem = width / 10;
                docEl.style.fontSize = rem + 'px';
                flexible.rem = win.rem = rem;
            }

            win.addEventListener('resize', function () {
                clearTimeout(tid);
                tid = setTimeout(refreshRem, 300);
            }, false);
            win.addEventListener('pageshow', function (e) {
                if (e.persisted) {
                    clearTimeout(tid);
                    tid = setTimeout(refreshRem, 300);
                }
            }, false);

            if (doc.readyState === 'complete') {
                doc.body.style.fontSize = 12 * dpr + 'px';
            } else {
                doc.addEventListener('DOMContentLoaded', function (e) {
                    doc.body.style.fontSize = 12 * dpr + 'px';
                }, false);
            }

            refreshRem();

            flexible.dpr = win.dpr = dpr;
            flexible.refreshRem = refreshRem;
            flexible.rem2px = function (d) {
                var val = parseFloat(d) * this.rem;
                if (typeof d === 'string' && d.match(/rem$/)) {
                    val += 'px';
                }
                return val;
            };
            flexible.px2rem = function (d) {
                var val = parseFloat(d) / this.rem;
                if (typeof d === 'string' && d.match(/px$/)) {
                    val += 'rem';
                }
                return val;
            };
        })(window, window['lib'] || (window['lib'] = {}));

    var firstBallObj = $('.item').eq(0);
    var firstBallX = firstBallObj.offset().left + 27;
    var firstBallY = firstBallObj.offset().top + 60;
    var ball = $(".ball");
    ball.css({top: firstBallY,left: firstBallX});
    // 点击滚动小球
    $(".item").click(function() {
        console.log($(this).width());
        var curr_width = $(this).width();
        var ball_width = $(".ball").width();
        var x = $(this).offset().left + (curr_width/2 - ball_width/2);
        var y = $(this).offset().top + 60;
        ball.css({ top: y, left: x });
        
        var contentMain = $(".content-main");
        for (var i = 0; i < contentMain.length; i++) {
            contentMain.eq(i).hide();
        }
        var newIndex = $(this).attr("index");
        $("#curr-index").val(newIndex);
        $(".content-main").eq(newIndex).show();
        $(".in-h1").html(title[newIndex].h1);
        $(".in-h2").html(title[newIndex].h2);

        var _this = this;
        setTimeout(function() {
            $(".home").css({transform:"rotateX(90deg)"});
        },1000)
    })
    // $(".home").click(function() {
    //     var _this = this;
    //     setTimeout(function() {
    //         $(_this).css({transform:"rotateX(90deg)"});
    //     },1000)
    // })
    var title = [
        {
            h1: '1. 发展规划',
            h2: '实现北京足球发展总共分三步'
        },
        {
            h1: '2. 走进足协',
            h2: '欢迎来到新的北京市足协'
        },
        {
            h1: '3. 关于俱乐部',
            h2: '俱乐部该怎么建设运营呢'
        },
        {
            h1: '4. 竞赛体系',
            h2: '从这些方面改进完善竞赛体系'
        },
        {
            h1: '5. 关于孩子',
            h2: '孩子们将收获什么'
        },
        {
            h1: '6. 关于大人',
            h2: '爱踢球的大人们将收获什么'
        },
        {
            h1: '7. 关于足球专业人才',
            h2: '如何让专业人才不断涌现并发光'
        },
        {
            h1: '8. 关于全运会',
            h2: '全运会队伍建设'
        },
        {
            h1: '9. 球场建设',
            h2: '再也不怕没有球场踢球啦'
        },
        {
            h1: '10. 财政投入',
            h2: '投入机制多元化'
        },
        {
            h1: '11. 球迷参与',
            h2: '足球发展需要政府和球迷携手'
        }
    ]
    // 定义初始显示的内容
    var contentMain = $(".content-main");
    for (var i=0; i< contentMain.length; i++) {
        contentMain.eq(i).hide();
    }
    // var currIndex = $("#curr-index").val();
    // contentMain.eq(currIndex).show();
    // $(".in-h1").html(title[currIndex].h1);
    // $(".in-h2").html(title[currIndex].h2);


    // 下一条事件
    $(".next-btn").click(function() {
        // 换标题
        var currIndex = $("#curr-index").val();
        $(".content-main").eq(currIndex).hide();
        var newIndex;      
        if (currIndex == 10) {
            newIndex = 0;
        } else {
            newIndex = Number(currIndex) + 1;
        }
        
        $("#curr-index").val(newIndex);
        $(".content-main").eq(newIndex).show();
        $(".in-h1").html(title[newIndex].h1);
        $(".in-h2").html(title[newIndex].h2);
    })
    // 上一条事件
    $(".pre-btn").click(function () {
        var currIndex = $("#curr-index").val();    
        $(".content-main").eq(currIndex).hide();
        var newIndex;
        if (currIndex == 0) {
            newIndex = 10;
        } else {
            newIndex = Number(currIndex) - 1;
        }
        $("#curr-index").val(newIndex);
        $(".content-main").eq(newIndex).show();
        $(".in-h1").html(title[newIndex].h1);
        $(".in-h2").html(title[newIndex].h2);
    })
    // 返回首页
    $(".back-home").click(function() {
        $(".home").css({ transform: "rotateX(0deg)" });        
    })
</script>
</html>